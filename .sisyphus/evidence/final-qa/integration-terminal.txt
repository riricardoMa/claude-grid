=== Integration Test: Terminal.app Full Lifecycle ===
Date: 2026-02-17

Step 1: Clean state
Command: rm -rf ~/.claude-grid/sessions/
Result: Clean ✓

Step 2: Spawn 4 windows
Command: /tmp/claude-grid 4 --terminal terminal --name integration-test
Output:
  Detected: darwin, terminal terminal, screen 1728x1117
  Layout: 2x2 grid (864x558 per window)
  Directory: /Users/boxiangma/Documents/GitHub/claude-grid
  Spawning 4 Claude Code instances...
  Session "integration-test" created. Use `claude-grid kill integration-test` to close all.
Exit Code: 0
Result: PASS ✓

Step 3: Verify windows
Command: osascript -e 'tell application "Terminal" to count windows'
Output: 5 (4 spawned + 1 pre-existing)
Result: PASS ✓

Step 4: List session
Command: /tmp/claude-grid list
Output:
  SESSION           BACKEND   WINDOWS  DIR                             CREATED
  integration-test  terminal  4        ~/Documents/GitHub/claude-grid  2026-02-17 22:33
Result: PASS ✓

Step 5: Kill session
Command: /tmp/claude-grid kill integration-test
Output: Session 'integration-test' killed. 4 windows closed.
Exit Code: 0
Result: PASS ✓

Step 6: Verify cleanup
- Session file: deleted ✓
- List: "No active sessions." ✓
- Terminal window count: 4 (some Terminal windows may persist with running processes)
Note: Terminal.app may not close windows immediately if claude process is still active.

VERDICT: PASS
